var k,m,n,p=0;
function q(g,b){var a;void 0!=b&&null==document.getElementById("question")?(a=document.createElement("div"),a.id="question",a.style.color="dark"==n?"#fff":"#000",a.style.padding="10px",a.style.backgroundColor="dark"==n?"#0f3661":"rgb(241, 241, 241)",a.style.width=k-22+"px",a.style.display="block",a.style.borderTopLeftRadius="5px",a.style.borderTopRightRadius="5px",a.style.borderBottom="dark"==n?"1px solid #345698":"1px solid rgb(222, 222, 222)",b.appendChild(a)):a=document.getElementById("question");a.innerText=
options.questions[g].text.toString()}function r(g){style=document.createElement("style");style.styleSheet?style.styleSheet.cssText=g:style.appendChild(document.createTextNode(g));document.getElementsByTagName("head")[0].appendChild(style)}
function u(g,b){var a=options.questions[g].type.toString(),c=options.questions[g].answers,t=c.length,d="",e,h=[],l=[];e=[];for(var f=0;f<c.length;f++)l[f]=c[f].index,-1!=l[f]?h[l[f]]=f:(h[f]=-1,e.push(f));for(;0<e.length;)for(l=e.splice(Math.round(Math.random()*(e.length-1)),1)[0],f=0;f<h.length;f++)if(-1==h[f]){h[f]=l;break}h=0==e.length?h:void 0;e=h;r(".answerDiv{padding-left:20px;padding-bottom:2px;text-indent:-20px;margin-bottom:2px;border-radius:4px}"+(".answerDiv:hover{background-color:"+("dark"==
n?"#616161":"#e8e8e8")+";cursor:pointer}")+".ansInpt{margin-bottom:0px}");if("radio"==a)for(a=0;a<t;a++)h=e[a],l=c[e[a]].pixel,f=c[e[a]].text,d+="<div class='answerDiv' id=\"answerDiv-"+h+"\"><input class='ansInpt' id=\"answer-"+h+'" type="radio" name="question'+g+'" value="'+l+'"> '+f+"</div>";else if("checkbox"==a)for(a=0;a<t;a++)h=e[a],l=c[e[a]].pixel,f=c[e[a]].text,d+="<div class='answerDiv' id=\"answerDiv-"+h+"\"><input class='ansInpt' id=\"answer-"+h+'" '+(c[e[a]].exclusive?'onclick="clrOthrBoxes('+
e[a]+", "+t+')"':'onclick="clrExclBoxes()"')+' type="checkbox" name="question'+g+'" value="'+l+'"> '+f+"</div>";void 0!=b&&null==document.getElementById("answers")?(c=document.createElement("div"),c.style.display="block",c.style.padding="6px",c.style.lineHeight="20px",c.style.a=1,c.id="answers",b.appendChild(c)):(c=document.getElementById("answers"),c.style.a=1,c.style.fontSize="16px",c.style.lineHeight="20px");c.innerHTML=d;v(t);w(!1)}
function v(g){for(var b=options.questions[p].answers,a=0;a<g;a++)document.getElementById("answerDiv-"+a).onclick=function(c){var a=c.target.id.toString().split("answerDiv-").pop();c=document.getElementById("answer-"+a);if(null!=c){if(b[a].exclusive)for(var d=b.length,e=0;e<d;e++)e!=a&&(document.getElementById("answer-"+e).checked=!1);else for(a=options.questions[p].answers,d=0;d<a.length;d++)a[d].exclusive&&(document.getElementById("answer-"+d).checked=!1);c.checked=c.checked?!1:!0}}}
function w(g){document.getElementById("question").offsetHeight+document.getElementById("answers").offsetHeight+40>m&&(g?(document.getElementById("answers").style.fontSize="12px",document.getElementById("answers").style.lineHeight="14px"):(document.getElementById("answers").style.width=k-20+"px",document.getElementById("answers").style.columnCount=2,w(!0)))}function x(){document.getElementById("question").innerHTML="";document.getElementById("answers").innerHTML=""}
function y(){var g=z,b=2,a=2;100>k-110&&(b=20,a=(k-110)/2);r(".btn{ color:#fff;display:block;padding:10px;cursor:pointer;background-color:#065d8c;border-radius:5px;width:80px;text-align:center;margin:5px;position:absolute;bottom:"+b+"px;left:"+a+"px} .btn:hover{ background-color: rgb(61, 176, 239) }");b=document.createElement("div");b.innerText="Vote";b.className="btn";b.id="votebtn";b.onclick=function(){var a;a=[];for(var b=options.questions[p].answers,d=0;d<b.length;d++){var e=document.getElementById("answer-"+
d),h=e.value;e.checked&&a.push(h)}if(0<a.length){for(b=0;b<a.length;b++)(new Image).src=options.baseURL+a[b];a=!0}else a=!1;a&&(p<options.questions.length-1?(x(),p++,q(p),u(p)):(x(),a=document.getElementById("votebtn"),b=document.getElementById("question"),null!=a&&a.parentNode.removeChild(a),null!=b&&b.parentNode.removeChild(b),a=250*k/300,b=(m-a)/2,d=document.createElement("img"),d.setAttribute("src",options.endscreenImagePath),d.setAttribute("width",k-3+"px"),d.setAttribute("height",a+"px"),d.style.position=
"absolute",d.style.top=b+"px",d.style.left="1px",d.style.right="1px",g.appendChild(d)))};g.appendChild(b)}
if("undefined"!=typeof options){k=options.adWidth;m=options.adHeight;n=options.theme;var z=document.getElementById("outerStage");z.style.width=k-2+"px";z.style.height=m-2+"px";z.style.border="1px solid rgb(228, 228, 228)";z.style.position="absolute";z.style.backgroundColor="dark"==n?"#212122":"rgb(249, 249, 249)";z.style.borderRadius="5px";z.style.overflow="hidden";z.style.color="dark"==n?"#fff":"#212122";z.style.fontFamily="'Helvetica', Arial, sans-serif";q(0,z);u(0,z);y();var A=document.createElement("img");
A.setAttribute("src",("https:"==window.location.protocol?"https:":"http:")+"//c2.rfihub.net/static/js/research/sbo/2/js/rocket_logo-100w-"+("dark"==n?"dark":"light")+".png");A.setAttribute("width","100px");A.setAttribute("height","11px");A.setAttribute("alt","Rocket Fuel");A.style.position="absolute";A.style.right="9px";A.style.bottom="9px";z.appendChild(A);r("body{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none}")};

